document.addEventListener("alpine:init",()=>{Alpine.store("confirmModal",{show:!1,title:"default",toggle(){this.show=!this.show,console.log("Show? "+this.show)},setTitle(e){this.title=e,console.log("Title? "+this.title)}})});function r(e){const l=/,(?=[^()]*\))/g;let t=e,i=[];return t=e.split("(")[0],i=e.split("(")[1].split(")")[0].split(l),{method:t,params:i}}Livewire.directive("confirm-modal",({el:e,directive:l,component:t,cleanup:i})=>{l.expression,console.log(e),console.log(e.getAttribute("wire:click")),console.log(r(e.getAttribute("wire:click"))),console.log(t);const c=()=>new Promise((o,n)=>{document.getElementById("lvcm-ok").addEventListener("click",function(){Alpine.store("confirmModal").toggle(),console.log("ok onclick"),o(!0)}),document.getElementById("lvcm-cancel").addEventListener("click",function(){Alpine.store("confirmModal").toggle(),console.log("cancel onclick"),o(!1)})});let s=async o=>{if(o.preventDefault(),o.stopImmediatePropagation(),Alpine.store("confirmModal").setTitle("Test"),Alpine.store("confirmModal").toggle(),!await c())console.log("cancel");else{console.log("ok");debugger;let n=r(e.getAttribute("wire:click"));t.$wire[n.method](n.params);debugger}};e.addEventListener("click",s,{capture:!0}),i(()=>{e.removeEventListener("click",s)})});
//# sourceMappingURL=livewire-confirm-modal.js.map
