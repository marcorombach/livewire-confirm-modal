document.addEventListener("alpine:init",()=>{Alpine.store("confirmModal",{show:!1,title:"default",description:"default",toggle(){this.show=!this.show},hide(){this.show=!1},present(){this.show=!0},setTitle(e){this.title=e},setDescription(e){this.description=e}})});function a(e){const l=/,(?=[^()]*\))/g;let i=e,t=[];return i=e.split("(")[0],t=e.split("(")[1].split(")")[0].split(l),t=t.map(r=>r.replace(/^['"]|['"]$/g,"")),{method:i,params:t}}Livewire.directive("confirm-modal",({el:e,directive:l,component:i,cleanup:t})=>{let s=l.expression,r=s.split("|")[0],d=s.split("|")[1];console.log(e),console.log(e.getAttribute("wire:click")),console.log(a(e.getAttribute("wire:click"))),console.log(i);const p=()=>new Promise((o,n)=>{document.getElementById("lvcm-ok").addEventListener("click",function(){Alpine.store("confirmModal").hide(),o(!0)}),document.getElementById("lvcm-cancel").addEventListener("click",function(){Alpine.store("confirmModal").hide(),o(!1)})});let c=async o=>{if(o.preventDefault(),o.stopImmediatePropagation(),Alpine.store("confirmModal").setTitle(r),Alpine.store("confirmModal").setDescription(d),Alpine.store("confirmModal").present(),!await p())console.log("cancel");else{console.log("ok");let n=a(e.getAttribute("wire:click"));console.log(n),i.$wire[n.method](n.params)}};e.addEventListener("click",c,{capture:!0}),t(()=>{e.removeEventListener("click",c)})});
//# sourceMappingURL=livewire-confirm-modal.js.map
