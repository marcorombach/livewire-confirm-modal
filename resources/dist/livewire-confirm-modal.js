document.addEventListener("alpine:init",()=>{Alpine.store("confirmModal",{show:!1,title:"default",description:"default",hide(){this.show=!1},present(){this.show=!0},setTitle(e){this.title=e},setDescription(e){this.description=e}})});function p(e){const n=/,(?![^'"]*['"])/g;let r=e.split("(")[0],t=e.split("(")[1].split(")")[0].split(n);return t=t.map(o=>o.replace(/^['"]|['"]$/g,"").trim()),{method:r,params:t}}Livewire.directive("confirm-modal",({el:e,directive:n,component:r,cleanup:s})=>{let t=n.expression,o=t.split("|")[0],a=t.split("|")[1];const d=()=>new Promise(i=>{document.getElementById("lvcm-ok-btn").addEventListener("click",function(){Alpine.store("confirmModal").hide(),i(!0)}),document.getElementById("lvcm-cancel-btn").addEventListener("click",function(){Alpine.store("confirmModal").hide(),i(!1)})});let c=async i=>{if(i.preventDefault(),i.stopImmediatePropagation(),Alpine.store("confirmModal").setTitle(o),Alpine.store("confirmModal").setDescription(a),Alpine.store("confirmModal").present(),await d()){let l=p(e.getAttribute("wire:click"));console.log(l),r.$wire[l.method](...l.params)}};e.addEventListener("click",c,{capture:!0}),s(()=>{e.removeEventListener("click",c)})});
//# sourceMappingURL=livewire-confirm-modal.js.map
