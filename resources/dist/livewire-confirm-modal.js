document.addEventListener("alpine:init",()=>{Alpine.store("confirmModal",{show:!1,title:"default",description:"default",hide(){this.show=!1},present(){this.show=!0},setTitle(e){this.title=e},setDescription(e){this.description=e}})});function p(e){const r=/,(?![^'"]*['"])/g;let o=e.split("(")[0],t=[];try{t=e.split("(")[1].split(")")[0].split(r)}catch{t=[]}return t=t.map(i=>i.replace(/^['"]|['"]$/g,"").trim()),{method:o,params:t}}Livewire.directive("confirm-modal",({el:e,directive:r,component:o,cleanup:t})=>{let i=r.expression,c=i.split("|")[0],a=i.split("|")[1];const d=()=>new Promise(n=>{document.getElementById("lvcm-ok-btn").addEventListener("click",function(){Alpine.store("confirmModal").hide(),n(!0)}),document.getElementById("lvcm-cancel-btn").addEventListener("click",function(){Alpine.store("confirmModal").hide(),n(!1)})});let s=async n=>{if(n.preventDefault(),n.stopImmediatePropagation(),Alpine.store("confirmModal").setTitle(c),Alpine.store("confirmModal").setDescription(a),Alpine.store("confirmModal").present(),await d()){let l=p(e.getAttribute("wire:click"));console.log(l),o.$wire[l.method](...l.params)}};e.addEventListener("click",s,{capture:!0}),t(()=>{e.removeEventListener("click",s)})});
//# sourceMappingURL=livewire-confirm-modal.js.map
